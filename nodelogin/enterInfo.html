<!DOCTYPE html>
<html>
	<html style="background-color: rgb(0, 40, 86);"></html>
    <head>
	<meta charset="utf-8">
	<title>Enter Student Info</title>
    <style>
		label{
			color: rgb(218, 169, 0);
		}
		.info-form {
			width: 300px;
			margin: 0 auto;
			font-family: Tahoma, Geneva, sans-serif;
		}
		.info-form h1 {
			text-align: center;
			color: rgb(218, 169, 0);
			font-size: 24px;
			padding: 20px 0 20px 0;
		}
        .info-form input[type="text"] {
			width: 100%;
			padding: 15px;
			border: 1px solid #dddddd;
			margin-bottom: 15px;
			box-sizing:border-box;
		}
        .info-form select[type="box"] {
			width: 100%;
			padding: 10px;
			border: 1px solid #dddddd;
			margin-bottom: 15px;
			box-sizing:border-box;
		}
        .info-form input[type="submit"] {
			width: 100%;
			padding: 15px;
			background-color: #535b63;
			border: 0;
			margin-bottom: 15px;
			box-sizing: border-box;
			cursor: pointer;
			font-weight: bold;
			color: #ffffff;
		}
        
		</style>
	    
	    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<script>
	function importUserInfo(){         
		var gradeLevel = document.getElementById('gradeLevel').value; 
		var gender = document.getElementById('gender').value; 
		var os = document.getElementById('OS').value; 
        var language = document.getElementById('programmingLanguage').value;

	  result.innerHTML = "";

	  const API_URL = `http://127.0.0.1:8092/api/importInfo/${gradeLevel}-${gender}-${os}-${language}`;
	  axios.get(`${API_URL}`)
		 .then(response => {
			//console.log(response.data.data);

			if (response.data.data.length == 0) {
			   return;
			}

			let thead = result.createTHead();
			let row = thead.insertRow();
			for (key in response.data.data[0]) {
			   //console.log(key);

			   let th = document.createElement("th");
			   let text = document.createTextNode(key);
			   th.appendChild(text);
			   row.appendChild(th);
			}
			
			for (x=0; x<response.data.data.length; x++) {
			   //console.log(response.data.data[x].maker);

			   let row = result.insertRow();
			   for (k in response.data.data[x]) {
				  console.log(k);   //displays the result(table)

				  let cell = row.insertCell();
				  let text = document.createTextNode(response.data.data[x][k]);
				  cell.appendChild(text);

			   }
			   
			}
		 })
		 .catch(error =>
			console.error('importUserInfo', error)
		 )
	  }


	  function importUserCourse(){         
		var subject = document.getElementById('subject').value; 
		var code = document.getElementById('code').value; 
		var status = document.getElementById('status').value; 
        var grade = document.getElementById('letterName').value;

	  result.innerHTML = "";

	  const API_URL = `http://127.0.0.1:8092/api/importCourse/${subject}-${code}-${status}-${grade}`;
	  axios.get(`${API_URL}`)
		 .then(response => {
			//console.log(response.data.data);

			if (response.data.data.length == 0) {
			   return;
			}

			let thead = result.createTHead();
			let row = thead.insertRow();
			for (key in response.data.data[0]) {
			   //console.log(key);

			   let th = document.createElement("th");
			   let text = document.createTextNode(key);
			   th.appendChild(text);
			   row.appendChild(th);
			}
			
			for (x=0; x<response.data.data.length; x++) {
			   //console.log(response.data.data[x].maker);

			   let row = result.insertRow();
			   for (k in response.data.data[x]) {
				  console.log(k);   //displays the result(table)

				  let cell = row.insertCell();
				  let text = document.createTextNode(response.data.data[x][k]);
				  cell.appendChild(text);

			   }
			   
			}
		 })
		 .catch(error =>
			console.error('displayPeer', error)
		 )
	  }
</script>
	    
	    
	    
        </head>
        <body>
            <div class="info-form">
                <h1>Enter Info</h1>
					<label>Year:</label>
					<select name="gradeLevel" id="gradeLevel" type="box">
						<option value="first">1st year</option>	
						<option value="second">2nd year</option>
						<option value="third">3rd year</option>
						<option value="fourth">4th year</option>
					</select>
					
					<label>Department:</label>
					<select name="department" id = "subject" type="box">
						<option value="CSE">CSE</option>	
						<option value="ENGR">ENGR</option>
						<option value="WRI">WRI</option>
					</select>

					<label>Course Number:</label>
					<select name="course" id = "code" type="box">
						<option value="120">120</option>
						<option value="140">140</option>
						<option value="100">100</option>
						<option value="160">160</option>
						<option value="65">65</option>
						<option value="10">10</option>
					</select>

					<label>Status:</label>
					<select name="courseStatus" id = "status" type="box">
						<option value="not taken">Not Taken</option>	
						<option value="taken">Taken</option>
						<option value="progress">Progress</option>
						<option value="plan">Plan to Take</option>
					</select>

					<label>Letter Grade:</label>
					<select name="letterName" id = "letterName" type="box">
						<option value="A">A</option>	
						<option value="B">B</option>
						<option value="C">C</option>
						<option value="P">P</option>
						<option value="NP">NP</option>
						<option value="N/A">N/A</option>
					</select>

					<label>Operating System:</label>
					<select name="OS" id = "OS" type="box">
						<option value="win10">Windows 10</option>	
						<option value="ubuntu">Ubuntu/Linux</option>
						<option value="win10ubuntu">Windows 10 & Ubuntu subsystem</option>
						<option value="mac">MAC OS</option>
						<option value="N/A">N/A</option>
					</select>

					<label>Programming Language:</label>
					<select name="programmingLanguage" id="programmingLanguage" type="box">
						<option value="java">Java</option>	
						<option value="c">C</option>
						<option value="c++">C++</option>
						<option value="c#">C#</option>
						<option value="python">Python</option>
						<option value="N/A">N/A</option>
					</select>

					<label>Gender:</label>
					<select name="gender"  id="gender" type="box">
						<option value="male">Male</option>	
						<option value="female">Female</option>
						<option value="N/A">N/A</option>
					</select> 
				
                <form action="UIpage.html" method="POST">
                    <input type="submit" name = "submit" placeholder="Submit" required>
                </form>
				<form action="UIpage.html" method="POST">
                    <input type="submit" name = "submit" value="View Info" required>
                </form>
            </div>
            <script>
            </script>
        </body>
</html>
